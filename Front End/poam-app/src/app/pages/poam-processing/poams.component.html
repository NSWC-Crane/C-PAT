<!--
!#######################################################################
! C-PATTM SOFTWARE
! CRANE C-PATTM plan of action and milestones software. Use is governed by the Open Source Academic Research License Agreement contained in the file
! crane_C_PAT.1_license.txt, which is part of this software package. BY
! USING OR MODIFYING THIS SOFTWARE, YOU ARE AGREEING TO THE TERMS AND
! CONDITIONS OF THE LICENSE.
!########################################################################
-->
<nb-card>
  <nb-card-header>
    <div class="dropdown-container">
      <ngx-dropdown-treeview class="dropdown-treeview" outline status="info" [config]="dropdownConfig" [items]="items" [buttonClass]="buttonClass"
                             (selectedChange)="onSelectedChange($event)">
      </ngx-dropdown-treeview>
    </div>
    <div class="row" style="padding-top: 20px;" *ngIf="collection">
      Selected Collection:
      <div class="col-md-8">
        <label>{{collection.collectionName}} Description: {{collection.description}}</label>
      </div>
      <hr />
      <div class="canvas" id="canvas">
        <canvas baseChart class="poam-chart" id='chartDiv' [chartType]="'bar'" [datasets]="chartData" [options]="backoptions"></canvas>
      </div>
      <hr />
      <div class="row">
        <button nbButton fullWidth outline status="info" (click)="addPoam()">Add POAM</button>

        <nb-radio-group style="display: flex; flex-wrap: wrap; padding-top: 20px" layout="row" [(ngModel)]="searchOption">
          <nb-radio (valueChange)="onSearchChange($event)"
                    *ngFor="let option of searchOptions"
                    [value]="option.value">
            {{ option.label }}
          </nb-radio>
        </nb-radio-group>
      </div>
      <br>
      <!-- TODO: Fix this filter -->
    <div class="row">
      <label>POAM Filter by Status:</label>
      <nb-select class="poam-filter" outline status="info" placeholder="Filter Poams: " shape="semi-round" [(ngModel)]="selectedStatus" name="selectedStatus"
                 (ngModelChange)='onSelectedStatusChange($event)'>
        <nb-option value="All">All</nb-option>
        <nb-option value="Draft">Draft</nb-option>
        <nb-option value="Approved">Approved</nb-option>
        <nb-option value="Submitted">Submitted</nb-option>
        <nb-option value="Rejected">Rejected</nb-option>
        <nb-option value="Closed">Closed</nb-option>
        <nb-option value="Expired">Expired</nb-option>
      </nb-select>
    </div>
                    
      <hr />
    </div>
  </nb-card-header>
  </nb-card>

