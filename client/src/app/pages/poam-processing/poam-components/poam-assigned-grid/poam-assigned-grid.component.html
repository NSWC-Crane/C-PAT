<!--
!##########################################################################
! CRANE PLAN OF ACTION AND MILESTONE AUTOMATION TOOL (C-PAT) SOFTWARE
! Use is governed by the Open Source Academic Research License Agreement
! contained in the LICENSE.MD file, which is part of this software package.
! BY USING OR MODIFYING THIS SOFTWARE, YOU ARE AGREEING TO THE TERMS AND
! CONDITIONS OF THE LICENSE.
!##########################################################################
-->

  <p-table [value]="filteredData"
           [scrollable]="true"
           scrollHeight="63.5rem">
    <ng-template pTemplate="caption">
        <p-iconField iconPosition="left" class="ml-auto">
          <p-inputIcon>
            <i class="pi pi-search"></i>
          </p-inputIcon>
          <input pInputText type="text" [(ngModel)]="globalFilter" (input)="onFilterChange($event)" placeholder="Search..." />
        </p-iconField>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th scope="col" *ngFor="let col of assignedColumns">
          {{ col }}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
      <tr>
        <td *ngFor="let col of assignedColumns">
          <span *ngIf="col !== 'POAM'">{{ row[getColumnKey(col)] }}</span>
          <span *ngIf="col === 'POAM'">
            <button pButton type="button" icon="pi pi-eye" class="p-button-text" (click)="managePoam(row)"></button>
          </span>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td [attr.colspan]="assignedColumns.length" style="text-align: center;">No POAMs found.</td>
      </tr>
    </ng-template>
  </p-table>
